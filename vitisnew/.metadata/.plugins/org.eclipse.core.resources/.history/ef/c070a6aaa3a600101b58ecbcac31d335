#include "randombytes.h"

/*
 * This is a simple, predictable, non-cryptographic pseudo-random number
 * generator (PRNG) used for testing purposes on embedded systems
 * where system entropy sources (like /dev/urandom or OpenSSL) are not available.
 *
 * DO NOT USE THIS FOR PRODUCTION!
 */

// A simple global state for our PRNG
static unsigned long long seed = 0xdeadbeefcafebabe;

void randombytes(unsigned char *x, unsigned long long xlen)
{
    unsigned long long i;

    for (i = 0; i < xlen; i++) {
        // This is a simple Linear Congruential Generator (LCG)
        // It's predictable but fine for filling buffers for tests.
        seed = (seed * 6364136223846793005ULL + 1442695040888963407ULL);
        x[i] = (unsigned char)(seed >> 32);
    }
}
